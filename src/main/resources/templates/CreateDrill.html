<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create New Drill</title>
    <link rel="stylesheet" th:href="@{/drill-creation.css}">
    <link rel="stylesheet" th:href="@{/autocomplete.css}">
    <link rel="stylesheet" th:href="@{/chosen-drill/chosen.css}">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"
            type="text/javascript"></script>
    <script th:src="@{/js/chosen.jquery.js}" type="text/javascript"></script>
    <script src="https://kit.fontawesome.com/a665c629bb.js" crossorigin="anonymous"></script>

    <script type="text/javascript" th:src="@{/js/drill-editor.js}"></script>
    <script type="text/javascript" th:src="@{/js/autocomplete.js}"></script>
</head>

<script th:inline="javascript">
    drill = [[${drill}]];
    editing = [[${editing}]];
</script>

<body class="body-container" onload="initDrillEditor()">

<div id="main-container" class="main-container">

    <form th:action="@{/create-drill}" th:object="${newDrill}" method="post" id="drill-creation-form"
          class="drill-create-form" autocomplete="off">

        <div class="drill-create-input-div drill-create-form-100-field">
            <label for="drill-title">Title</label>
            <input id="drill-title"
                   type="text" placeholder="Title" th:name="title">
        </div>

        <div class="drill-create-input-div drill-create-form-30-field">
            <label for="drill-date">Date</label>
            <input type="date" id="drill-date" th:name="date">
        </div>

        <div class="spacing-5-div"></div>

        <div class="drill-create-input-div drill-create-form-30-field">
            <label for="drill-start-time">Start time</label>
            <input type="text" required id="drill-start-time" th:name="startTime">
            <script>
                $(document).ready(function () {
                    $("#drill-start-time").timepicker({
                        timeFormat: 'HH:mm',
                        interval: 15,
                        minHour: 5,
                        maxHour: 22,
                        startHour: 5,
                        dynamic: true
                    });
                });
            </script>
        </div>

        <div class="spacing-5-div"></div>

        <div class="drill-create-input-div drill-create-form-30-field">
            <label for="drill-end-time">End time</label>
            <input type="text" required id="drill-end-time" th:name="endTime">
            <script>
                $(document).ready(function () {
                    $("#drill-end-time").timepicker({
                        timeFormat: 'HH:mm',
                        interval: 15,
                        minHour: 5,
                        maxHour: 22,
                        startHour: 5,
                        dynamic: true
                    });
                });
            </script>
        </div>


        <div class="drill-create-input-div drill-create-form-100-field">
            <label for="drill-location">Location</label>
            <select id="drill-location" name="drill-location" th:name="location">
                <option value="-1">Select location</option>
                <option onclick="showCustomDrillInputField()" id="custom-location-option"
                        class="drill-custom-location-text">Custom Location
                </option>
                <option onclick="hideCustomDrillInputField()" th:each="location: ${locations}" th:value="${location}"
                        th:text="${location}"></option>
            </select>

            <input id="custom-drill-input" class="drill-custom-location-field"
                   style="visibility: hidden; position: absolute"
                   type="text" placeholder="Location" th:name="custom-location">
        </div>

        <div class="drill-create-input-div drill-create-form-50-field">
            <label for="add-drill-officers">Report to</label>
            <select id='add-drill-officers' th:name="officerName">
                <option selected disabled style="display: none">Select one...</option>
                <option>Officer 1</option>
                <option>Officer 2</option>
            </select>
        </div>

        <div class="spacing-10-div"></div>

        <div class="drill-create-input-div drill-create-form-50-field">
            <label for="add-drill-participants">Participants</label>
            <select multiple id='add-drill-participants' th:name="participants">
                <optgroup label="Rank">
                    <option th:each="rank : ${ranks}" th:value="${rank}" th:text="${rank}"></option>
                </optgroup>
                <optgroup label="Flight">
                    <option th:each="flight : ${flights}" th:value="${flight}" th:text="${flight}"></option>
                </optgroup>
                <optgroup label="Workspace">
                    <option th:each="workspace : ${workspaces}" th:value="${workspace}" th:text="${workspace}"></option>
                </optgroup>
                <optgroup label="Team">
                    <option th:each="team : ${teams}" th:value="${team}" th:text="${team}"></option>
                </optgroup>
            </select>
        </div>


        <div class="drill-create-input-div drill-create-form-100-field">
            <label for="drill-description">Description</label>
            <textarea id='drill-description' type="text" rows="2" cols="20" placeholder="Drill Description"
                      th:name="description"></textarea>
        </div>

        <div class="drill-create-input-div drill-create-form-100-field">
            <input id="drill-submit" class="drill-create-submit-button drill-create-submit-button-text" type="submit"
                   value="Submit">
        </div>
    </form>

    <!-- Script -->
    <script type="text/javascript">
        $(document).ready(function () {
            $('#add-drill-participants').attr("data-placeholder", "Choose participants...").chosen();
            $('#add-drill-officers').chosen();
        });
    </script>

</div>
</body>
</html>